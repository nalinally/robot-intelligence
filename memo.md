
# レポートメモ
- 必要な情報
  - NNの仕様
    - 数式を使って示す
    - コードのどこでそれが実装されているか
  - ノイズを増やす実験の結果
    - seedによって変わる可能性があるので、サンプル数を大きめにとる
    - いったん工夫なし
    - 何かしらの工夫をしたときとの実験結果比較
      - バッチサイズを変える
      - ネットワークの自由度を減らす
        - 層数
        - 層のニューロン数
        - 畳み込み層
        - プーリング層
    - 実験結果からの考察


# ファイル構成

- なるべくファイルを分けて、CMakeLists.txtを作る
- buildスクリプトもあれば良さそう

```
robot-intelligence
  |- CMakeLists.txt
  |- README.md
  |- build.sh
  |- src
    |- core.hpp
    |- core.cpp
    |- params.hpp
    |- params.cpp
    |- node.hpp
    |- node.cpp
    |- link.hpp
    |- link.cpp
    |- network.hpp
    |- network.cpp
```

- ネットワークの表現方法をどうするかにもよる
- いったん作りながら考えたくなってきたな

# ネットワークの表現方法

## 案1 ノードクラスの集合

- ノードがリンクを持っていて、リンクが重みとポインタを持っている
- わかりやすい
- 計算は比較的多そう
    - 推論=>BPを一回ずつ繰り返すので、計算量は大事になってくる可能性あり
- ノードは入力へのリンクと出力へのリンクを持つ必要がある
    - 出力側と入力側の整合性を保証できないとちょっと怖い
    - ようたろうの手法
        - 出力側と入力側に同時にリンクを張る関数を用意しておき、ノード間にリンクを張る操作はこの関数を介してのみ行う
        - これでええやん
        - この関数以外からリンクを張りたくなることはあるんだろうか
            - ドロップアウトとかするとどうなんだ
            - 同じ要領でドロップアウト用の関数を作ればいいだけか
            - 基本的に整合性を保ちながらやりたい操作をする関数を用意するという作戦で問題なさそう
- リカレントとかにも拡張できそうかも


## 案2 ノードベクトル

- 各層にノードのベクトルがあり、層と層をつなぐ行列を用意する（この行列がリンク）
- 計算がかんたんになる
- Eigen使えるから高速化できる（と弓場が言っていた）
- こっちのほうが各リンク重みにアクセスしやすそうなきがしている
- ノードがつながっている、つながっていないの設定をどうするか
    - 0か1が要素に入っている行列を別で作るのかも
- きれいにやろうとするとTemplateとか使いたくなりそう
    - わかんないよ〜
    - コードの柔軟性がいらないのなら別に必要ないかもだけど
- 全体の構造が若干わかりにくくはなりそう
